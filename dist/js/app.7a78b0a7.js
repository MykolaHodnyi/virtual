(function(){"use strict";var t={8377:function(t,e,r){var o=r(5130),n=r(6768);function c(t,e,r,o,c,i){const a=(0,n.g2)("product-list-page");return(0,n.uX)(),(0,n.Wv)(a)}var i=r(1114),a=r(9975);const u={class:"main product-list-page"},s={class:"product-list-page__section"};function l(t,e,r,o,c,i){const a=(0,n.g2)("product-list-card"),l=(0,n.g2)("product-virtualized-list");return(0,n.uX)(),(0,n.CE)("main",u,[(0,n.Lk)("section",s,[(0,n.bF)(l,{items:t.products,"error-message":t.errorMessage,itemHeight:200,containerHeight:800,bufferSize:3},{default:(0,n.k6)((({item:t})=>[(0,n.bF)(a,{product:t},null,8,["product"])])),_:1},8,["items","error-message"])])])}var d=r(144),p=r(4232);const v={class:"product-virtualized-list"},f={key:0,class:"product-virtualized-list__error"};function g(t,e,r,c,i,a){return(0,n.uX)(),(0,n.CE)("div",v,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.searchQuery=e),type:"text",placeholder:"Search",class:"product-virtualized-list__search-input"},null,512),[[o.Jo,t.searchQuery]]),(0,n.Lk)("div",{ref:"container",class:"product-virtualized-list__container",onScroll:e[1]||(e[1]=(...e)=>t.onScroll&&t.onScroll(...e)),style:(0,p.Tr)({height:t.containerHeight+"px"})},[t.errorMessage?((0,n.uX)(),(0,n.CE)("label",f,(0,p.v_)(t.errorMessage),1)):((0,n.uX)(),(0,n.CE)("ul",{key:1,class:"product-virtualized-list__content",style:(0,p.Tr)({height:t.totalContentHeight+"px"})},[(0,n.bF)(o.F,{name:"list",tag:"li"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.visibleItems,((e,r)=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"product-virtualized-list__item virtualized-item",style:(0,p.Tr)({top:t.itemPositions[r]+"px",height:t.itemHeight+"px"})},[(0,n.RG)(t.$slots,"default",{item:e},void 0,!0)],4)))),128))])),_:3})],4))],36)])}r(8992),r(4520),r(1454);var h=(0,n.pM)({name:"ProductVirtualizedList",props:{items:{type:Array,required:!0},itemHeight:{type:Number,required:!0},containerHeight:{type:Number,required:!0},bufferSize:{type:Number,default:5},errorMessage:{type:String,default:""}},setup(t){const e=(0,d.KR)(null),r=(0,d.KR)(0),o=(0,d.KR)(""),c=(0,n.EW)((()=>t.items.filter((t=>t.title.toLowerCase().includes(o.value.toLowerCase()))))),i=(0,n.EW)((()=>c.value.length*t.itemHeight)),a=(0,n.EW)((()=>Math.ceil(t.containerHeight/t.itemHeight)+t.bufferSize)),u=(0,n.EW)((()=>Math.max(0,Math.floor(r.value/t.itemHeight)-t.bufferSize))),s=(0,n.EW)((()=>Math.min(c.value.length,u.value+a.value+t.bufferSize))),l=(0,n.EW)((()=>c.value.slice(u.value,s.value))),p=(0,n.EW)((()=>l.value.map(((e,r)=>(u.value+r)*t.itemHeight)))),v=()=>{e.value&&(r.value=e.value.scrollTop)};return(0,n.sV)((()=>{e.value&&(r.value=e.value.scrollTop)})),{container:e,onScroll:v,totalContentHeight:i,visibleItems:l,itemPositions:p,searchQuery:o}}}),m=r(1241);const _=(0,m.A)(h,[["render",g],["__scopeId","data-v-2869b6bf"]]);var b=_,y=r.p+"img/star-icon.6135ed4b.svg";const k={class:"product-card"},L=["src","alt"],w={class:"product-card__detail"},E={class:"product-card__title"},z={class:"product-card__description"},C={class:"product-card__flex1"},O={class:"product-card__discount"},P={class:"product-card__brand"},x={class:"product-card__flex2"},S={class:"product-card__price"},H={class:"product-card__rating"},M={class:"product-card__category"};function j(t,e,r,o,c,i){return(0,n.uX)(),(0,n.CE)("article",k,[(0,n.Lk)("img",{src:t.product.thumbnail,alt:t.product.title,class:"product-card__img"},null,8,L),(0,n.Lk)("div",w,[(0,n.Lk)("h3",E,(0,p.v_)(t.product.title),1),(0,n.Lk)("p",z,(0,p.v_)(t.product.description),1),(0,n.Lk)("div",C,[(0,n.Lk)("span",O,"Discount "+(0,p.v_)(t.product.discountPercentage)+"%",1),(0,n.Lk)("span",P,(0,p.v_)(t.product.brand),1)]),(0,n.Lk)("div",x,[(0,n.Lk)("span",S,"$ "+(0,p.v_)(t.product.price),1),e[0]||(e[0]=(0,n.Lk)("div",{class:"product-card__star"},[(0,n.Lk)("img",{src:y,alt:"Star icon"})],-1)),(0,n.Lk)("span",H,(0,p.v_)(t.product.rating),1),(0,n.Lk)("span",M,(0,p.v_)(t.product.category),1)])])])}var R=(0,n.pM)({name:"ProductListCard",props:{product:{type:Object,required:!0}}});const W=(0,m.A)(R,[["render",j],["__scopeId","data-v-69c0170c"]]);var X=W;const A="https://dummyjson.com/products?limit=100";async function T(){try{const t=await fetch(A);return await t.json()}catch(t){throw console.error("Error checking authentication:",t),t}}var F=(0,n.pM)({name:"ProductListPage",components:{ProductListCard:X,ProductVirtualizedList:b},setup(){const t=(0,d.KR)([]),e=(0,d.KR)("");return(0,n.sV)((async()=>{e.value="";try{const e=await T();if(!e||!e.products||!e.products.length)throw new Error("Something went wrong...");t.value=e.products}catch(r){e.value="Something went wrong...",console.error("Error fetching products:",r)}})),{products:t,errorMessage:e}}});const K=(0,m.A)(F,[["render",l]]);var I=K,V=function(t,e,r,o){var n,c=arguments.length,i=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,r,i):n(e,r))||i);return c>3&&i&&Object.defineProperty(e,r,i),i};let q=class extends a.lD{constructor(...t){super(...t),(0,i.A)(this,"name","App")}};q=V([(0,a.JY)({components:{ProductListPage:I}})],q);var D=q;const N=(0,m.A)(D,[["render",c]]);var Q=N;(0,o.Ef)(Q).mount("#app")}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var c=e[o]={exports:{}};return t[o].call(c.exports,c,c.exports,r),c.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,c){if(!o){var i=1/0;for(l=0;l<t.length;l++){o=t[l][0],n=t[l][1],c=t[l][2];for(var a=!0,u=0;u<o.length;u++)(!1&c||i>=c)&&Object.keys(r.O).every((function(t){return r.O[t](o[u])}))?o.splice(u--,1):(a=!1,c<i&&(i=c));if(a){t.splice(l--,1);var s=n();void 0!==s&&(e=s)}}return e}c=c||0;for(var l=t.length;l>0&&t[l-1][2]>c;l--)t[l]=t[l-1];t[l]=[o,n,c]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p=""}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,c,i=o[0],a=o[1],u=o[2],s=0;if(i.some((function(e){return 0!==t[e]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(u)var l=u(r)}for(e&&e(o);s<i.length;s++)c=i[s],r.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return r.O(l)},o=self["webpackChunkvirtual"]=self["webpackChunkvirtual"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(8377)}));o=r.O(o)})();
//# sourceMappingURL=app.7a78b0a7.js.map